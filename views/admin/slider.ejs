<%- include("navbar.ejs") %>

<form action="/admin/save_slider" method="POST" enctype="multipart/form-data">
  <div class="container bg-white p-4 rounded shadow-sm mb-4">
    <!-- Page Title -->
    <div class="row mb-3">
      <div class="col">
        <h4 class="fw-bold mb-0">
          Add New Slider
        </h4>
        <hr>
      </div>
    </div>

    <div class="row g-3">
      <!-- Slider Image -->
      <div class="col-md-6">
        <label for="slider_image" class="form-label">Slider Image</label>
        <input type="file" 
               class="form-control" 
               id="slider_image" 
               name="slider_image" 
               required>
      </div>

      <!-- Slider Title -->
      <div class="col-md-6">
        <label for="slider_title" class="form-label">Slider Title</label>
        <input type="text" 
               class="form-control" 
               id="slider_title" 
               name="slider_title" 
               placeholder="Enter slider title" 
               required>
      </div>

      <!-- Slider Description -->
      <div class="col-12">
        <label for="slider_description" class="form-label">Slider Description</label>
        <textarea class="form-control" 
                  id="slider_description" 
                  name="slider_description" 
                  rows="1" 
                  placeholder="Enter slider description" 
                  required></textarea>
      </div>

      <!-- Button Text -->
      <div class="col-md-6">
        <label for="slider_button_text" class="form-label">Button Text</label>
        <input type="text" 
               class="form-control" 
               id="slider_button_text" 
               name="slider_button_text" 
               placeholder="e.g., Learn More">
      </div>

      <!-- Button Link -->
      <div class="col-md-6">
        <label for="slider_button_link" class="form-label">Button Link</label>
        <input type="url" 
               class="form-control" 
               id="slider_button_link" 
               name="slider_button_link" 
               placeholder="https://example.com">
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="row mt-4">
      <div class="col text-center">
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-save me-1"></i> Save Slider
        </button>
      </div>
    </div>
  </div>
</form>

<!-- Table for Existing Sliders -->
<div class="container bg-white rounded-2 shadow-sm my-4 p-4">
  <div class="row mb-3">
    <div class="col">
      <h4 class="fw-bold mb-0">Existing Sliders:</h4>
      <hr>
    </div>
  </div>

  <table class="table align-middle table-bordered table-hover">
    <thead class="table-light">
      <tr>
        <th>Image</th>
        <th>Title</th>
        <th>Description</th>
        <th>Button Text</th>
        <th>Button Link</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <!-- Example Row -->
       <% for(var i = 0; i < sliders.length; i++) { %>
      <tr>
        <td><img src="/uploads/slider/<%= sliders[i].slider_image %>" alt="Slider" width="100" class="rounded"></td>
        <td><%= sliders[i].slider_title %></td>
        <td>
        <span title="<%= sliders[i].slider_description %>">
          <%= sliders[i].slider_description.length > 30 
              ? sliders[i].slider_description.substring(0, 30) + "...." 
              : sliders[i].slider_description %>
        </span>
      </td>
        <td><%= sliders[i].slider_button_text %></td>
       <td>
        <a href="<%= sliders[i].slider_button_link %>" 
          target="_blank" 
          title="<%= sliders[i].slider_button_link %>">
          <%= sliders[i].slider_button_link.length > 30 
              ? sliders[i].slider_button_link.substring(0, 30) + "...." 
              : sliders[i].slider_button_link %>
        </a>
      </td>

        <td>
          <a href="/admin/edit_slider/<%= sliders[i].slider_id %>"
             class="btn btn-sm btn-warning text-white me-2">
            <i class="bi bi-pencil-square"></i>
          </a>
          <a href="/admin/delete_slider/<%= sliders[i].slider_id %>"
             class="btn btn-sm btn-danger">
            <i class="bi bi-trash"></i>
          </a>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>



<%- include("footer.ejs") %>
